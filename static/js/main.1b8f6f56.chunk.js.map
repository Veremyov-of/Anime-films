{"version":3,"sources":["store/filmsReducer.js","store/index.js","store/asyncActions/asyncGetDataAction.js","components/Item.jsx","App.js","index.js"],"names":["initialState","data","allItems","likesItems","switchItems","GET_DATA","SORTING_DATA","LIKE","DELETE","SORTING","rootReducer","combineReducers","films","state","action","type","payload","result","NewItem","title","image","release_date","producer","this","like","i","length","item","push","newState","splice","newStateDel","store","createStore","applyMiddleware","thunk","logger","asyncGetDataAction","dispatch","fetch","then","response","json","Item","props","useDispatch","info","index","className","onClick","src","alt","App","useSelector","useEffect","map","ReactDOM","render","document","getElementById"],"mappings":"kNAAMA,EAAe,CACjBC,KAAM,GACNC,SAAU,GACVC,WAAY,GACZC,aAAa,GAGXC,EAAW,WACXC,EAAgB,eAChBC,EAAO,OACPC,EAAS,SACTC,EAAU,UCFVC,EAAcC,YAAgB,CAChCC,MDGwB,WAAmC,IAAlCC,EAAiC,uDAAzBb,EAAcc,EAAW,uCAC1D,OAAOA,EAAOC,MACV,KAAKV,EACD,OAAO,2BAAIQ,GAAX,IAAkBZ,KAAMa,EAAOE,UAEnC,KAAKV,EAUD,IATA,IAAML,EAAOY,EAAMZ,KACbgB,EAAS,GACNC,EAAT,SAAiBC,EAAOC,EAAOC,EAAcC,GACzCC,KAAKJ,MAAQA,EACbI,KAAKH,MAAQA,EACbG,KAAKF,aAAeA,EACpBE,KAAKD,SAAWA,EAChBC,KAAKC,MAAO,GAERC,EAAI,EAAGA,EAAIxB,EAAKyB,OAAQD,IAAK,CACjC,MAA+CxB,EAAKwB,GAA9CN,EAAN,EAAMA,MAAOC,EAAb,EAAaA,MAAOC,EAApB,EAAoBA,aAAcC,EAAlC,EAAkCA,SAC9BK,EAAO,IAAIT,EAAQC,EAAOC,EAAOC,EAAcC,GACnDL,EAAOW,KAAKD,GAEhB,OAAO,2BAAId,GAAX,IAAkBX,SAAUe,EAAQhB,KAAM,KAE9C,KAAKM,EAED,IADA,IAAMsB,EAAWhB,EAAMX,SACfuB,EAAI,EAAGA,EAAII,EAASH,OAAQD,IAChC,GAAGX,EAAOE,UAAYa,EAASJ,GAAGN,MAE9B,GADAU,EAASJ,GAAGD,MAAQK,EAASJ,GAAGD,KAC7BK,EAASJ,GAAGD,KACXX,EAAMV,WAAWyB,KAAKC,EAASJ,SAE/B,IAAI,IAAIA,EAAI,EAAGA,EAAIZ,EAAMV,WAAWuB,OAAQD,IACrCX,EAAOE,UAAYH,EAAMV,WAAWsB,GAAGN,OACtCN,EAAMV,WAAW2B,OAAOL,EAAG,GAM/C,OAAO,2BAAIZ,GAAX,IAAkBX,SAAU2B,IAGhC,KAAKrB,EAED,IADA,IAAMuB,EAAclB,EAAMX,SAClBuB,EAAI,EAAGA,EAAIM,EAAYL,OAAQD,IAChCX,EAAOE,UAAYe,EAAYN,GAAGN,OACjCY,EAAYD,OAAOL,EAAG,GAG9B,IAAI,IAAIA,EAAI,EAAGA,EAAIZ,EAAMV,WAAWuB,OAAQD,IACrCX,EAAOE,UAAYH,EAAMV,WAAWsB,GAAGN,OACtCN,EAAMV,WAAW2B,OAAOL,EAAG,GAGnC,OAAO,2BAAIZ,GAAX,IAAkBX,SAAU6B,IAGhC,KAAKtB,EACD,OAAO,2BAAII,GAAX,IAAkBT,aAAcS,EAAMT,cAG1C,QACI,OAAOS,MC7DNmB,EAAQC,YAAYvB,EAAawB,YAAgBC,IAAMC,MCXvDC,EAAqB,WAC9B,OAAO,SAASC,GACZC,MAAM,yCACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAE,GAAI,OAAIJ,EFwEqB,CAAEvB,KAAMV,EAAUW,QExEhB0B,OACpCF,MAAK,kBAAMF,EFwEoB,CAAEvB,KAAMT,S,eGvEjC,SAASqC,EAAKC,GACzB,IAAMN,EAAWO,cACXC,EAAOF,EAAMjB,KACLiB,EAAMG,MAapB,OACI,sBAAKC,UAAU,OAAf,UACI,wBAAQC,QALK,WH4DG,IAACjC,EG3DrBsB,GH2DqBtB,EG3DC8B,EAAK3B,MH2DO,CAAEJ,KAAMP,EAAQQ,cGvDfgC,UAAU,sBAAzC,SAA+D,qBAAKE,IAAI,kBAAkBC,IAAI,UAC9F,wBAAQF,QAVG,WH+DG,IAACjC,EG9DnBsB,GH8DmBtB,EG9DC8B,EAAK3B,MH8DO,CAAEJ,KAAMR,EAAMS,cGrDbgC,UAAS,6BAAwBF,EAAKtB,KAAO,cAAgB,IAA1F,SAAgG,qBAAK0B,IAAI,iBAAiBC,IAAI,UAC9H,qBAAKH,UAAU,WAAf,SAA0B,qBAAKE,IAAKJ,EAAK1B,MAAO+B,IAAI,UACpD,oBAAIH,UAAU,aAAd,SAA4BF,EAAK3B,QACjC,oBAAI6B,UAAU,gBAAd,SAA+BF,EAAKxB,WACpC,oBAAI0B,UAAU,YAAd,SAA2BF,EAAKzB,kB,MCY7B+B,MA9Bf,WACE,IAAMxC,EAAQyC,aAAY,SAAAxC,GAAK,OAAIA,EAAMD,SACnC0B,EAAWO,cASjB,OAPAS,qBAAU,WACRhB,EAASD,OACR,IAMD,gCACE,wBAAQY,QALU,WACpBX,EJ4DgC,CAAEvB,KAAMN,KIxDNuC,UAAU,UAA1C,SAAqDpC,EAAMR,YAAc,MAAQ,eACjF,qBAAK4C,UAAU,YAAf,SAEIpC,EAAMR,YACLQ,EAAMV,SAASqD,KAAI,SAAC5B,EAAMoB,GAAP,OAClB,cAACJ,EAAD,CAAkBI,MAAOA,EAAOpB,KAAMA,GAA3BoB,MACe,IAA5BnC,EAAMT,WAAWuB,OACf,uCACAd,EAAMT,WAAWoD,KAAI,SAAC5B,EAAMoB,GAAP,OACrB,cAACJ,EAAD,CAAkBI,MAAOA,EAAOpB,KAAMA,GAA3BoB,YC5BvBS,IAASC,OAAO,cAAC,IAAD,CAAUzB,MAAOA,EAAjB,SAAwB,cAAC,EAAD,MAAmB0B,SAASC,eAAe,W","file":"static/js/main.1b8f6f56.chunk.js","sourcesContent":["const initialState = {\r\n    data: [],\r\n    allItems: [],\r\n    likesItems: [],\r\n    switchItems: true,\r\n}\r\n\r\nconst GET_DATA = 'GET_DATA';\r\nconst SORTING_DATA =  'SORTING_DATA';\r\nconst LIKE = 'LIKE';\r\nconst DELETE = 'DELETE';\r\nconst SORTING = 'SORTING';\r\n\r\nexport const filmsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case GET_DATA: \r\n            return {...state, data: action.payload}\r\n\r\n        case SORTING_DATA:\r\n            const data = state.data;\r\n            const result = [];\r\n            function NewItem(title, image, release_date, producer) {\r\n                this.title = title;\r\n                this.image = image;\r\n                this.release_date = release_date;\r\n                this.producer = producer;\r\n                this.like = false\r\n            }\r\n            for(let i = 0; i < data.length; i++) {\r\n                let { title, image, release_date, producer } = data[i];\r\n                let item = new NewItem(title, image, release_date, producer);\r\n                result.push(item);\r\n            }\r\n            return {...state, allItems: result, data: []};\r\n\r\n        case LIKE:\r\n            const newState = state.allItems;\r\n            for(let i = 0; i < newState.length; i++) {\r\n                if(action.payload === newState[i].title) {\r\n                    newState[i].like = !newState[i].like;\r\n                    if(newState[i].like) {\r\n                        state.likesItems.push(newState[i]);\r\n                    } else {\r\n                        for(let i = 0; i < state.likesItems.length; i++) {\r\n                            if(action.payload === state.likesItems[i].title) {\r\n                                state.likesItems.splice(i, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return {...state, allItems: newState}\r\n        \r\n\r\n        case DELETE: \r\n            const newStateDel = state.allItems;\r\n            for(let i = 0; i < newStateDel.length; i++) {\r\n                if(action.payload === newStateDel[i].title) {\r\n                    newStateDel.splice(i, 1);\r\n                }\r\n            }\r\n            for(let i = 0; i < state.likesItems.length; i++) {\r\n                if(action.payload === state.likesItems[i].title) {\r\n                    state.likesItems.splice(i, 1);\r\n                }\r\n            }\r\n            return {...state, allItems: newStateDel}\r\n\r\n\r\n        case SORTING:\r\n            return {...state, switchItems: !state.switchItems};\r\n        \r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getDataAction = (payload) => ({ type: GET_DATA, payload });\r\nexport const sortingDataAction = () => ({ type: SORTING_DATA });\r\nexport const likeAction = (payload) => ({ type: LIKE, payload });\r\nexport const deleteAction = (payload) => ({ type: DELETE, payload });\r\nexport const sortingAction = () => ({ type: SORTING })","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n//API\r\nimport logger from \"redux-logger\";\r\n\r\n//state\r\nimport { filmsReducer } from \"./filmsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    films: filmsReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk,logger));","import { getDataAction, sortingDataAction } from \"../filmsReducer\";\r\n\r\nexport const asyncGetDataAction = () => {\r\n    return function(dispatch) {\r\n        fetch('https://ghibliapi.herokuapp.com/films')\r\n        .then(response => response.json())\r\n        .then(json => dispatch(getDataAction(json)))\r\n        .then(() => dispatch(sortingDataAction()))\r\n    }\r\n}","import { useDispatch } from 'react-redux';\r\n//style\r\nimport '../css/item.css'\r\n\r\n//Actions\r\nimport { likeAction } from '../store/filmsReducer';\r\nimport { deleteAction } from './../store/filmsReducer';\r\n\r\nexport default function Item(props) {\r\n    const dispatch = useDispatch();\r\n    const info = props.item;\r\n    const index = props.index;\r\n\r\n    // const handleLike = () => {\r\n    //     dispatch(likeAction(index));\r\n    // }\r\n\r\n    const handleLike = () => {\r\n        dispatch(likeAction(info.title));\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteAction(info.title))\r\n    }\r\n    return (\r\n        <div className=\"item\">\r\n            <button onClick={handleDelete} className=\"item-btn item-close\"><img src=\"./img/close.png\" alt=\"img\"/></button>\r\n            <button onClick={handleLike} className={`item-btn item-like ${info.like ? 'like-active' : ''}`}><img src=\"./img/like.png\" alt=\"img\"/></button>\r\n            <div className=\"item-img\"><img src={info.image} alt=\"img\"/></div>\r\n            <h2 className=\"item-title\">{info.title}</h2>\r\n            <h3 className=\"item-producer\">{info.producer}</h3>\r\n            <h4 className=\"item-date\">{info.release_date}</h4>\r\n        </div>\r\n    );\r\n}","import { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\n\n//Redux Actions\nimport { asyncGetDataAction } from './store/asyncActions/asyncGetDataAction';\n\n//Components\nimport Item from \"./components/Item\";\n\n//Style\nimport './css/global.css';\nimport { sortingAction } from \"./store/filmsReducer\";\n\nfunction App() {\n  const films = useSelector(state => state.films);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(asyncGetDataAction());\n  }, []);\n\n  const handleSorting = () => {\n    dispatch(sortingAction())\n  }\n  return (\n    <div>\n      <button onClick={handleSorting} className=\"sorting\">{films.switchItems ? 'All' : 'Only Likes'}</button>\n      <div className=\"container\">\n        {\n          films.switchItems ?\n           films.allItems.map((item, index) => \n            <Item key={index} index={index} item={item} />): \n          films.likesItems.length === 0 ? \n            <h1>Empty</h1>:\n            films.likesItems.map((item, index) =>\n            <Item key={index} index={index} item={item} />\n          )\n       }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nimport App from './App';\n\nReactDOM.render(<Provider store={store}><App /></Provider>,document.getElementById('root'));\n"],"sourceRoot":""}