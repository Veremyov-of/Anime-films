{"version":3,"sources":["store/filmsReducer.js","store/index.js","store/asyncActions/asyncGetDataAction.js","components/Item.jsx","components/Loading.jsx","App.js","index.js"],"names":["initialState","data","allItems","likesItems","switchItems","loading","GET_DATA","SORTING_DATA","LIKE","DELETE","SORTING","LOADING","loadingAction","type","rootReducer","combineReducers","films","state","action","payload","result","NewItem","title","image","release_date","producer","this","like","i","length","item","push","newState","splice","newStateDel","store","createStore","applyMiddleware","thunk","logger","asyncGetDataAction","dispatch","fetch","then","response","json","Item","props","useDispatch","info","className","onClick","src","alt","Loading","useSelector","App","useEffect","map","index","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0b300207.chunk.js","sourcesContent":["const initialState = {\r\n    data: [],\r\n    allItems: [],\r\n    likesItems: [],\r\n    switchItems: true,\r\n    loading: false\r\n}\r\n\r\nconst GET_DATA = 'GET_DATA';\r\nconst SORTING_DATA =  'SORTING_DATA';\r\nconst LIKE = 'LIKE';\r\nconst DELETE = 'DELETE';\r\nconst SORTING = 'SORTING';\r\nconst LOADING = 'LOADING';\r\n\r\nexport const filmsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case GET_DATA: \r\n            return {...state, data: action.payload}\r\n\r\n        case SORTING_DATA:\r\n            const data = state.data;\r\n            const result = [];\r\n            function NewItem(title, image, release_date, producer) {\r\n                this.title = title;\r\n                this.image = image;\r\n                this.release_date = release_date;\r\n                this.producer = producer;\r\n                this.like = false\r\n            }\r\n            for(let i = 0; i < data.length; i++) {\r\n                let { title, image, release_date, producer } = data[i];\r\n                let item = new NewItem(title, image, release_date, producer);\r\n                result.push(item);\r\n            }\r\n            return {...state, allItems: result, data: []};\r\n\r\n        case LIKE:\r\n            const newState = state.allItems;\r\n            for(let i = 0; i < newState.length; i++) {\r\n                if(action.payload === newState[i].title) {\r\n                    newState[i].like = !newState[i].like;\r\n                    if(newState[i].like) {\r\n                        state.likesItems.push(newState[i]);\r\n                    } else {\r\n                        for(let i = 0; i < state.likesItems.length; i++) {\r\n                            if(action.payload === state.likesItems[i].title) {\r\n                                state.likesItems.splice(i, 1);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return {...state, allItems: newState}\r\n        \r\n\r\n        case DELETE: \r\n            const newStateDel = state.allItems;\r\n            for(let i = 0; i < newStateDel.length; i++) {\r\n                if(action.payload === newStateDel[i].title) {\r\n                    newStateDel.splice(i, 1);\r\n                }\r\n            }\r\n            for(let i = 0; i < state.likesItems.length; i++) {\r\n                if(action.payload === state.likesItems[i].title) {\r\n                    state.likesItems.splice(i, 1);\r\n                }\r\n            }\r\n            return {...state, allItems: newStateDel}\r\n\r\n\r\n        case SORTING:\r\n            return {...state, switchItems: !state.switchItems};\r\n\r\n        case LOADING:\r\n            return {...state, loading: !state.loading}\r\n        \r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const getDataAction = (payload) => ({ type: GET_DATA, payload });\r\nexport const sortingDataAction = () => ({ type: SORTING_DATA });\r\nexport const likeAction = (payload) => ({ type: LIKE, payload });\r\nexport const deleteAction = (payload) => ({ type: DELETE, payload });\r\nexport const sortingAction = () => ({ type: SORTING });\r\nexport const loadingAction = () => ({ type: LOADING });","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\n//API\r\nimport logger from \"redux-logger\";\r\n\r\n//state\r\nimport { filmsReducer } from \"./filmsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    films: filmsReducer\r\n})\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk,logger));","import { getDataAction, sortingDataAction, loadingAction } from \"../filmsReducer\";\r\n\r\nexport const asyncGetDataAction = () => {\r\n    return function(dispatch) {\r\n        dispatch(loadingAction());\r\n        fetch('https://ghibliapi.herokuapp.com/films')\r\n        .then(response => response.json())\r\n        .then(json => dispatch(getDataAction(json)))\r\n        .then(() => dispatch(sortingDataAction()))\r\n        .then(() => dispatch(loadingAction()))\r\n    }\r\n}","import { useDispatch } from 'react-redux';\r\n//style\r\nimport '../css/item.css'\r\n\r\n//Actions\r\nimport { likeAction } from '../store/filmsReducer';\r\nimport { deleteAction } from './../store/filmsReducer';\r\n\r\nexport default function Item(props) {\r\n    const dispatch = useDispatch();\r\n    const info = props.item;\r\n\r\n    const handleLike = () => {\r\n        dispatch(likeAction(info.title));\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteAction(info.title))\r\n    }\r\n    return (\r\n        <div className=\"item\">\r\n            <button onClick={handleDelete} className=\"item-btn item-close\"><img src=\"./img/close.png\" alt=\"img\"/></button>\r\n            <button onClick={handleLike} className={`item-btn item-like ${info.like ? 'like-active' : ''}`}><img src=\"./img/like.png\" alt=\"img\"/></button>\r\n            <div className=\"item-img\"><img src={info.image} alt=\"img\"/></div>\r\n            <h2 className=\"item-title\">{info.title}</h2>\r\n            <h3 className=\"item-producer\">{info.producer}</h3>\r\n            <h4 className=\"item-date\">{info.release_date}</h4>\r\n        </div>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\n\r\n//style\r\nimport '../css/Loading.css'\r\n\r\nexport default function Loading() {\r\n    const loading = useSelector(state => state.films.loading)\r\n    return (\r\n        <div className={`loading_wrapp ${loading ? 'loading_wrapp-active' : ''}`}>\r\n            <h2>Loading...</h2>\r\n        </div>\r\n    );\r\n}","import { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\n\n//Redux Actions\nimport { asyncGetDataAction } from './store/asyncActions/asyncGetDataAction';\nimport { sortingAction } from \"./store/filmsReducer\";\n\n//Components\nimport Item from \"./components/Item\";\nimport Loading from './components/Loading';\n\n//Style\nimport './css/global.css';\n\n\n\nfunction App() {\n  const films = useSelector(state => state.films);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(asyncGetDataAction());\n  }, []);\n\n  const handleSorting = () => {\n    dispatch(sortingAction())\n  }\n  return (\n    <div>\n      <button onClick={handleSorting} className=\"sorting\">{films.switchItems ? 'All' : 'Only Likes'}</button>\n      <Loading />\n      <div className=\"container\">\n        {\n          films.switchItems ?\n           films.allItems.map((item, index) => \n            <Item key={index} item={item} />): \n          films.likesItems.length === 0 ? \n            <h1>Empty</h1>:\n            films.likesItems.map((item, index) =>\n            <Item key={index} item={item} />\n          )\n       }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/index';\n\nimport App from './App';\n\nReactDOM.render(<Provider store={store}><App /></Provider>,document.getElementById('root'));\n"],"sourceRoot":""}